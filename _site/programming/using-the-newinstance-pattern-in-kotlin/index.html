<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.1.0
    Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Using the NewInstance Pattern in Kotlin | Jk Jensen</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Using the NewInstance Pattern in Kotlin" />
<meta name="author" content="Jk J" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Kotlin has a handful of fundamental differences from Java, not the least of which being the omission of static members and methods. This can cause a bit of a headache when trying to duplicate typical Android patterns using Android’s newest official language." />
<meta property="og:description" content="Kotlin has a handful of fundamental differences from Java, not the least of which being the omission of static members and methods. This can cause a bit of a headache when trying to duplicate typical Android patterns using Android’s newest official language." />
<link rel="canonical" href="http://localhost:4000/programming/using-the-newinstance-pattern-in-kotlin/" />
<meta property="og:url" content="http://localhost:4000/programming/using-the-newinstance-pattern-in-kotlin/" />
<meta property="og:site_name" content="Jk Jensen" />
<meta property="og:image" content="http://localhost:4000/images/kotlin-android.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-15T00:00:00-07:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@azjkjensen" />
<meta name="twitter:creator" content="@azjkjensen" />
<script type="application/ld+json">
{"dateModified":"2018-04-05T12:25:52-07:00","datePublished":"2018-04-15T00:00:00-07:00","url":"http://localhost:4000/programming/using-the-newinstance-pattern-in-kotlin/","headline":"Using the NewInstance Pattern in Kotlin","image":{"thumbnail":"../images/kotlin-android-thumb.png","url":"http://localhost:4000/images/kotlin-android.png","@type":"imageObject"},"author":{"@type":"Person","name":"Jk J"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/programming/using-the-newinstance-pattern-in-kotlin/"},"description":"Kotlin has a handful of fundamental differences from Java, not the least of which being the omission of static members and methods. This can cause a bit of a headache when trying to duplicate typical Android patterns using Android’s newest official language.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/logo2.png"},"name":"Jk J"},"@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,700,700i|Lora:400,400i,700,700i">
  <link rel="alternate" type="application/atom+xml" title="Jk Jensen" href="/atom.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  using-the-newinstance-pattern-in-kotlin">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/">Home</a></li><li><a href="/categories/">Categories</a></li><li><a href="/tags/">Tags</a></li><li><a href="/search/">Search</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/" class="site-logo" rel="home" title="Jk Jensen">
        <img src="/images/logo2.png" class="site-logo-img animated fadeInDown" alt="Jk Jensen">
      </a>
    
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    
  
  
  

  <div class="page-image">
    <img src="/images/kotlin-android.png" class="entry-feature-image u-photo" alt="Using the NewInstance Pattern in Kotlin" >
    
  </div>


    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">Using the NewInstance Pattern in Kotlin
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><div class="author-info"><div class="author-name">
        <em>by</em> <span class="p-name">Jk J</span>
      </div>
    <time class="page-date dt-published" datetime="2018-04-15T00:00:00-07:00"><a class="u-url" href="">April 15, 2018</a>
</time>

  </div>
</div>

        
  <h3 class="page-taxonomies-title">Categories</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy">programming</li>
  </ul>


        
  <h3 class="page-taxonomies-title">Tags</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy">kotlin</li><li class="page-taxonomy">android</li>
  </ul>


      </div>

      <div class="page-content">
        <div class="e-content">
          <p>Kotlin has a handful of fundamental differences from Java, not the least of which being the omission of static members and methods. This can cause a bit of a headache when trying to duplicate typical Android patterns using Android’s <a href="https://developer.android.com/kotlin/index.html">newest official language</a>.</p>

<p><strong>Skip the prose and get to the code via this <a href="https://gist.github.com/azjkjensen/cf094c79726bab08b68f01dcc2e82a71#file-myfragment-kt">Github gist</a>.</strong></p>

<h2 id="java-example">Java Example</h2>

<p>In Java Android development it is common to add a static method called newInstance() to a fragment class like this:</p>

<script src="https://gist.github.com/azjkjensen/785ad31cd5c8ec96dac5d4c01e581c2c.js"></script>

<p>The API documentation <a href="https://developer.android.com/reference/android/app/Fragment.html">recommends following this pattern</a> because it allows you to vertically separate the fragment from it’s hosting activity. It keeps your application components modular.</p>

<p>Since the fragment code knows nothing of its hosting activity, you won’t have to deal with refactoring if you decide to host this same fragment elsewhere in the future. All of the information required to create your fragment is self-contained within the fragment code.</p>

<p>Kotlin does not have static members and methods, so duplicating this principle requires some creativity. Here is my method for writing idiomatic Kotlin while maintaining these object-oriented principles.</p>

<h2 id="kotlin-companion-object">Kotlin Companion Object</h2>

<p>Kotlin introduces the <a href="https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects">companion object</a> to your Android code, which may <a href="http://docs.scala-lang.org/tutorials/tour/singleton-objects.html#companions">sound familiar if you know Scala</a>. When a variable (or function) is declared as part of the companion object you can use it just like you would a static member in Java. The difference here is that companion objects in Kotlin are more versatile. Items declared on the companion object are instances of real objects, which means they can implement interfaces. But they act essentially identical to the Java static objects you know and love.</p>

<p>Here is how you might write fragment code in Kotlin:</p>

<script src="https://gist.github.com/azjkjensen/cf094c79726bab08b68f01dcc2e82a71.js"></script>

<p>Voila! We’ve successfully accomplished the same purpose as our Java code above. The hosting activity can still use <code class="highlighter-rouge">MyFragment.newInstance()</code>, maintaining modularity and reusability. The fragment doesn’t need to know about it’s calling activity and all information about creating the fragment is contained within its own code.</p>

<p>This pattern can also be used for other commonly static data in Android development like <code class="highlighter-rouge">getIntent()</code> or class identifiers.</p>

<p>Object-oriented principles drive quality Android development. Kotlin takes those principles and builds upon them, adding features like null safety, a collection of language tools for using the functional programming paradigm, and interoperability with existing Java code. That all goes without saying that Kotlin is now <a href="https://developer.android.com/kotlin/index.html">officially supported</a> by the Android team at Google. Learn more about using Kotlin with Android <a href="https://kotlinlang.org/docs/reference/android-overview.html">here</a>.</p>

<hr />

<p><em>As is the case with most Android principles, converting your fragments to Kotlin requires a slight learning curve and some experimentation. Please reach out to me with any improvements on my design.</em></p>

        </div>

        
          <div class="page-share">
  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fprogramming%2Fusing-the-newinstance-pattern-in-kotlin%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--facebook btn--small"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i> <span>Share</span></a>
  <a href="https://twitter.com/intent/tweet?text=Using+the+NewInstance+Pattern+in+Kotlin%20http%3A%2F%2Flocalhost%3A4000%2Fprogramming%2Fusing-the-newinstance-pattern-in-kotlin%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--twitter btn--small"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> <span>Tweet</span></a>
  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fprogramming%2Fusing-the-newinstance-pattern-in-kotlin%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--linkedin btn--small"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> <span>LinkedIn</span></a>
  <a href="https://reddit.com/submit?title=Using+the+NewInstance+Pattern+in+Kotlin&url=http%3A%2F%2Flocalhost%3A4000%2Fprogramming%2Fusing-the-newinstance-pattern-in-kotlin%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--reddit btn--small"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i> <span>Reddit</span></a>
</div>

        

        

        <nav class="page-pagination" role="navigation">
  

  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons"><a class="social-icon" href="https://www.instagram.com/lovedonesandzeros/"><i class="fab fa-instagram fa-2x" title="Instagram"></i></a><a class="social-icon" href="https://github.com/azjkjensen"><i class="fab fa-github-square fa-2x" title="Github"></i></a><a class="social-icon" href="https://twitter.com/azjkjensen"><i class="fab fa-twitter-square fa-2x" title="Twitter"></i></a></div><div class="copyright">
    
      <p>&copy; 2018 Jk Jensen. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/mmistakes/so-simple-theme" rel="nofollow">So Simple</a>.</p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.9/js/all.js"></script>


  </body>

</html>
